#
# NOTE: This file is autogenerated.  Use ./create-dib.sh to
# recreate it
#

dashboard:
  title: 'Nodepool: DIB Status'
  time:
    from: "now-7d"
    to: "now"
  rows:
    - title: Description
      height: 100px
      panels:
        - title: Description
          content: |
            **This dashboard is managed by [Grafyaml](http://docs.openstack.org/infra/system-config/grafyaml.html).**

            If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/branch/master/grafana/afs.yaml).
          type: text

# AUTOGENERATED : Ubuntu Bionic

    - title: Ubuntu Bionic
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-bionic.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-bionic.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Xenial

    - title: Ubuntu Xenial
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-xenial.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-xenial.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-xenial.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Trusty

    - title: Ubuntu Trusty
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-trusty.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-trusty.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-trusty.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 7

    - title: Centos 7
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-7.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-7.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-7.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Fedora 29

    - title: Fedora 29
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.fedora-29.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.fedora-29.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.fedora-29.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Fedora 30

    - title: Fedora 30
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.fedora-30.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.fedora-30.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.fedora-30.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Buster

    - title: Debian Buster
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-buster.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-buster.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-buster.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Stretch

    - title: Debian Stretch
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-stretch.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-stretch.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-stretch.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Gentoo

    - title: Gentoo
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.gentoo-17-0-systemd.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.gentoo-17-0-systemd.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.gentoo-17-0-systemd.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : openSUSE 15.0

    - title: openSUSE 15.0
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.opensuse-150.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-150.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-150.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : openSUSE 15

    - title: openSUSE 15
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.opensuse-15.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-15.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-15.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : openSUSE 42.3

    - title: openSUSE 42.3
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.opensuse-423.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-423.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-423.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Bionic arm64

    - title: Ubuntu Bionic arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic-arm64.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-bionic-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-bionic-arm64.qcow2.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Xenial arm64

    - title: Ubuntu Xenial arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-xenial-arm64.qcow2.rc"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-xenial-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-xenial-arm64.qcow2.duration.mean, 'None'), "Time")
              refId: A
